<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Convenience Methods for Dot Density Maps • dotdensity</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Convenience Methods for Dot Density Maps">
<meta property="og:description" content="The package provides convenience methods for multiple category dot-density map.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">dotdensity</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/recent_immigrants.html">Recent Immigrants</a>
    </li>
    <li>
      <a href="articles/why_dotdensity.html">Why dotdensity?</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mountainMath/dotdensity/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="dotdensity">dotdensity<a class="anchor" aria-label="anchor" href="#dotdensity"></a>
</h1></div>
<p>To install the package from GitHub use</p>
<pre><code><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install.packages</span><span class="op">(</span><span class="st">'mountainMath/dotdensity'</span><span class="op">)</span></code></pre>
<p>Please refer to the <a href="https://mountainmath.github.io/dotdensity/" class="external-link">documentation and
reference guide</a> for further details.</p>
<div class="section level2">
<h2 id="why-dotdensity">Why dotdensity?<a class="anchor" aria-label="anchor" href="#why-dotdensity"></a>
</h2>
<p>This package provides several convenience function for muti-category
dot-density maps. Dot-density maps are fairly straight-forward but there
are a couple of pitfalls to pay attention to. This package attempts to
deal with some of these, in particular</p>
<ol style="list-style-type: decimal">
<li>Scaling to more than 1 dot per unit (e.g. person)</li>
<li>Re-aggregating and weighting through hierarchical geographic
levels</li>
</ol>
<div class="section level3">
<h3 id="scaling">Scaling<a class="anchor" aria-label="anchor" href="#scaling"></a>
</h3>
<p>Dot-density maps can get very messy if we draw one dot of each person
(or whatever the unit is). Scaling, by only drawing 1 dot for every
<em>n</em> people is a good way to alleviate this. But this process can
introduce bias. Take the example where we draw 1 dot for every 50 people
of a category, say German speakers. Suppose German speakers are
distributed uniformly, so that each geographic area has 50 people, 20 of
which are German speakers. Standard rounding will produce a map without
any German speakers, severely misrepresenting the data. To remedy this
we should use a rounding algorithm that is unbiased. Statistical
rounding, just like what is employed in the census, will produce
unbiased results. So our convenience method that converts counts for
categories (e.g. languages) in each geographic regions to dots does
exactly that. We also shuffle the order of the dots to ensure that not
all people of a certain category end up getting visually
over-represented by drawing on top of all others.</p>
</div>
<div class="section level3">
<h3 id="re-aggregating">Re-Aggregating<a class="anchor" aria-label="anchor" href="#re-aggregating"></a>
</h3>
<p>Census data a fine geographies may under-count the total number of
people due to omissions of data because of privacy or quality concerns.
We can deal with this by re-distributing the missing number of people
found at a higher geographic aggregation level to lower levels. This
will introduce some problems because we won’t know exactly where to
distribute the missing people, but it will ensure that the overall
number of dots drawn accurately reflect overall counts. Typically we
will weight the re-distribution by population, but other possibilities
exist.</p>
<p>Furthermore, the same method allows the geographic weighting of data
to fine block-level population data, where we don’t have general census
variables available. Again, this kind of weighted re-distribution
emphasise the problem with dot-density maps that they suggest an
accuracy that does not exist, but on the other hand it produces very
accurate representations of other aspects of the data, like general
population density.</p>
</div>
</div>
<div class="section level2">
<h2 id="api-considerations">API Considerations<a class="anchor" aria-label="anchor" href="#api-considerations"></a>
</h2>
<p>Dot-density maps re-aggregating the data down to census block level
hits the CensusMapper API pretty hard, and you may blow through your
free API quota in no time. We may be able to find funding to increase
the free quote in the future, but for now it’s a good thing to test the
API call before executing. The example vignetts are safe to run though,
the data comes packaged with the R package and it will only hit the
cache and not the CensusMapper server, so no API points will get
deducted. In fact, you don’t even have to get your API key to run
them.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>This package has been designed to be used in conjunction with <a href="https://github.com/mountainMath/cancensus" class="external-link">cancensus</a> to pull
in census data, but it also works with other data.</p>
<p>The main example is a cross-border map by ethnicity in the
Detroit-Windsor region, where the data is pulled in using the
<code>cancensus</code> package for Canada and the
<code>tidycensus</code> package for the US. For details <a href="https://github.com/mountainMath/dotdensity/blob/master/vignettes/why_dotdensity.Rmd" class="external-link">view
the code</a>.</p>
<p>The recent immigrants example was created using
<code>cancensus</code> and <code>dotdensity</code>, it utilizes the
census hierarchy for better placement of the dots. You can find more
details <a href="https://github.com/mountainMath/dotdensity/blob/master/vignettes/recent_immigrants.Rmd" class="external-link">in
the vignette</a>.</p>
<div class="figure">
<img src="https://github.com/mountainMath/dotdensity/blob/master/images/recent_immigrants_DB.png?raw=true" alt=""><p class="caption">Vancouver recent immigrants</p>
</div>
<div class="figure">
<img src="https://github.com/mountainMath/dotdensity/blob/master/images/race.png?raw=true" alt=""><p class="caption">Ethnicity in Detroid-Windsor</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mountainMath/dotdensity/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mountainMath/dotdensity/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dotdensity</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Jens von Bergmann <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Jens von Bergmann.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
